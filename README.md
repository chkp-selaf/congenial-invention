# AI Traffic Interceptor

Light-weight user-mode agent for capturing plaintext prompt/response traffic from AI desktop applications (VS Code Copilot, ChatGPT Desktop, Claude Desktop) **without** breaking TLS or requiring kernel drivers.

## Repository Layout

```
ai-traffic-interceptor/
‚îú‚îÄ injector/          # Launch helper + DLL injector (C++)
‚îú‚îÄ dll/               # Hooking DLL ‚Äì detours for WinHTTP, SSL_write, etc. (C++)
‚îú‚îÄ collector/         # Named-pipe collector & analytics (C#, .NET 8)
‚îú‚îÄ tests/             # Unit & integration tests (GoogleTest + helpers)
‚îú‚îÄ cmake/             # Toolchains / CPM / dependencies
‚îî‚îÄ docs/              # Architecture & design notes
```

## Build Prerequisites

* **Windows 10/11 SDK** + Visual Studio 2022 Build Tools
* **CMake ‚â• 3.21**
* **vcpkg** (VS integrated or standalone) ‚Äì used for GoogleTest & other deps
* **Git** (submodules)

## Quick Start

```powershell
# Clone with submodules
> git clone --recurse-submodules https://github.com/your-org/ai-traffic-interceptor.git
> cd ai-traffic-interceptor

# Configure (x64 Release) ‚Äì picks up vcpkg automatically if VCPKG_ROOT is set
> cmake -B build -DCMAKE_BUILD_TYPE=Release

# Build all components
> cmake --build build --config Release
```

## Usage

1. Start the collector to receive intercepted traffic:
   ```bash
   ai_collector.exe
   ```

2. Inject into a target process:
   ```bash
   ai_injector.exe <target_process.exe>
   ```

3. For Electron apps, use the `--with-children` flag:
   ```bash
   ai_injector.exe --with-children "C:\Path\To\electron-app.exe"
   ```

## Debugging

The project includes comprehensive logging for debugging:

- **Log Files**: Hook DLL writes detailed logs to `%TEMP%\ai_hook_<PID>_<timestamp>.log`
- **Log Analyzer**: Use `log_analyzer.exe` to find and analyze log files
- **Debug Output**: View real-time logs with DebugView (Sysinternals)
- **Verbose Mode**: Run collector with `--verbose` flag for detailed output

For detailed debugging instructions, see [DEBUGGING_GUIDE.md](DEBUGGING_GUIDE.md).

## Milestones
See `docs/MILESTONES.md` (generated by Windsurf plan) for the high-level roadmap.

---
Generated by Windsurf üèÑ‚Äç‚ôÇÔ∏è
